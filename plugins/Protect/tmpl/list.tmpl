<TMPL_INCLUDE NAME="header.tmpl">
<script type="text/javascript">
<!--
function doRemoveItemsProtect (f, singular, plural, nameRestrict, args) {
    var count = countMarked(f, nameRestrict);
    if (!count) {
        alert('You did not select any ' + plural + ' to delete.');
        return false;
    }
    if (confirm(count == 1 ? 'Are you sure you want to unprotect this ' + singular + '?' : 'Are you sure you want to unprotect the ' + count + ' selected ' + plural + '?')) {
        return doForMarkedInThisWindow(f, singular, plural, nameRestrict, 'delete', args, 'to delete');
    }
}
function enableFilterButton() {
    getByID("filter-button").style.display = "inline";
}
function toggleFilter() {
    var filterActive = getByID("filter-active");
    if (filterActive.style.display == "none") {
        filterActive.style.display = "block";
        getByID("filter-select").style.display = "none";
    } else {
        filterActive.style.display = "none";
        getByID("filter-select").style.display = "block";
    }
}

function setFilterCol(choice) {
    getByID('filter-select').className = "filter-" + choice;
    if (choice == 'none')
        getByID('filter-mode').selectedIndex = 0;
    else {
        getByID('filter-mode').selectedIndex = 1;
        var fld = getByID('filter-col');
        if (choice == 'status')
            fld.selectedIndex = 0;
        else if (choice == 'category_id')
            fld.selectedIndex = 1;
        else if (choice == 'author_id')
            fld.selectedIndex = 2;
        col_span = getByID("filter-text-col");
        if (fld.selectedIndex > -1 && col_span)
            col_span.innerHTML = '<strong>' +
                fld.options[fld.selectedIndex].text + '</strong>';
    }
}

var tableSelect;
function init()
{
<TMPL_UNLESS NAME=IS_POWER_EDIT>
	// setup
	tableSelect = new TC.TableSelect( "selector" );
	tableSelect.rowSelect = true;
</TMPL_UNLESS>

	setFilterCol(<TMPL_IF NAME=FILTER>'<TMPL_VAR NAME=FILTER>'<TMPL_ELSE>'none'</TMPL_IF>);<TMPL_IF NAME=FILTER>
	setFilterVal('<TMPL_VAR NAME=FILTER_VAL>');
</TMPL_IF>
}

TC.attachLoadEvent( init );
// -->
</script>
<div id="list-entry">
<h2><MT_TRANS phrase="Protected Entries">: <span class="title-highlight"><TMPL_VAR NAME=BLOG_NAME ESCAPE=HTML></span></h2>


<p class="page-desc"><MT_TRANS phrase="The following is a list of protected entries."></p>

<TMPL_IF EMPTY>
<table width="100%">
<tr><td align="center" bgcolor="#EEEEEE"><MT_TRANS phrase="You currently have no protected entries."></td></tr>
</table>
<TMPL_ELSE>

<div class="list" id="selector">
    <form method="get" action="<TMPL_VAR NAME=SCRIPT_URL>">
        <input type="hidden" name="__mode" value="delete" />
        <input type="hidden" name="_type" value="entries" />   

<table cellspacing="0" class="compact">
<thead>
    <tr>
    <th class="cb"><input type="checkbox" name="id-head" value="all" class="select" /></th>
        <th><MT_TRANS phrase="Title"></th>
	<th><MT_TRANS phrase="Date"></th>
        <th><MT_TRANS phrase="Author"></th>
        <th><MT_TRANS phrase="Type"></th>
        <th>&nbsp;</th>
    </tr>
</thead>   
<tbody>     
<TMPL_LOOP NAME=ENTRY_LOOP>

    <tr class="<TMPL_IF NAME=ENTRY_ODD>odd<TMPL_ELSE>even</TMPL_IF>">
    <td class="cb"><input type="checkbox" name="id" value="<TMPL_VAR NAME=ID>" class="select" /></td>
				<td><a href="<TMPL_VAR NAME=MTSCRIPT_URL>?__mode=view&_type=entry&id=<TMPL_VAR NAME=ID>&blog_id=<TMPL_VAR NAME=BLOG_ID>"><TMPL_VAR NAME=TITLE></a></td> 
        <td><TMPL_VAR NAME=DATE></td>
      	<td><TMPL_VAR NAME=AUTHOR></td> 
      	<td><TMPL_VAR NAME=TYPE> <MT_TRANS phrase="Protected"></td> 
        <td><a href="<TMPL_VAR NAME=SCRIPT_URL>?__mode=edit&_type=entry&id=<TMPL_VAR NAME=ID>&blog_id=<TMPL_VAR NAME=BLOG_ID>"><MT_TRANS phrase="Edit Protection Options"></a></td>  
     </tr>
</tbody>
</TMPL_LOOP>
    </table>
   
<br />
<div class="list-actions">
<div class="button-bar">
<input type="button" onclick="doRemoveItemsProtect(this.form, 'entry', 'entries')" name="delete_entries" value="<MT_TRANS phrase="Unprotect">" accesskey="d" title="Unprotect selected groups (d)" />
</div>     
</div> 
<hr />

<div style="float:right;">
<TMPL_IF NAME=PREV>
<input type="button" onclick="window.location='<TMPL_VAR NAME=SCRIPT_URL>?__mode=list_entries&limit=<TMPL_VAR NAME=LIMIT>&offset=<TMPL_VAR NAME=PREV_OFFSET>&blog_id=<TMPL_VAR NAME=BLOG_ID>'" value="<MT_TRANS phrase="Previous"> <TMPL_VAR NAME=LIMIT>" />
</TMPL_IF>
        <select name="limit" onchange="window.location='<TMPL_VAR NAME=SCRIPT_URL>?__mode=list_entries&blog_id=<TMPL_VAR NAME=BLOG_ID>&limit=' + this.options[this.selectedIndex].value">
            <TMPL_LOOP NAME=LIMIT_LOOP>
                <option value="<TMPL_VAR NAME=LIMIT>"<TMPL_IF NAME=LIMIT_SELECTED> selected</TMPL_IF>><TMPL_VAR NAME=LIMIT_LABEL> <MT_TRANS phrase="Entries"> </option>
            </TMPL_LOOP>
        </select> 
<TMPL_IF NAME=NEXT>
<input type="button" onclick="window.location='<TMPL_VAR NAME=SCRIPT_URL>?__mode=list_entries&limit=<TMPL_VAR NAME=LIMIT>&offset=<TMPL_VAR NAME=NEXT_OFFSET>&blog_id=<TMPL_VAR NAME=BLOG_ID>'" value="<MT_TRANS phrase="Next"> <TMPL_VAR NAME=LIMIT>" />     
</TMPL_IF>
</div>
</div>
</TMPL_IF>
</div>
<!-- End main content -->

<TMPL_INCLUDE NAME="footer.tmpl">